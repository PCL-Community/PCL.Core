version: 1.0

profile:
  name: qodana.recommended

ide: QDNET

# 构建命令 - 确保源生成器代码被生成并包含在分析中
bootstrap: |
  echo "Building project with source generators..."
  dotnet restore ./PCL.Core.csproj
  dotnet build ./PCL.Core.csproj \
    -c Debug \
    -p:Platform=x64 \
    -p:EmitCompilerGeneratedFiles=true \
    -p:CompilerGeneratedFilesOutputPath=./obj/GeneratedFiles

# 指定项目文件
dotnet:
  project: PCL.Core.csproj
  configuration: Debug
  platform: x64

# 包含的检查
include:
  - name: VulnerableLibrariesGlobal

# 排除的检查
exclude:
  - name: NotAccessedPositionalProperty.Global
  - name: UnusedMember.Global
  - name: UnusedType.Global
  - name: MemberCanBePrivate.Global
  - name: RedundantDefaultMemberInitializer
  - name: UnusedAutoPropertyAccessor.Global
  - name: UnusedMember.Local
  - name: UnusedMethodReturnValue.Global
  - name: UseAwaitUsing
  - name: ConvertIfStatementToSwitchStatement
  - name: ArrangeTrailingCommaInMultilineLists
  - name: InvertIf
  - name: ArrangeRedundantParentheses
  - name: AutoPropertyCanBeMadeGetOnly.Global
  - name: MemberCanBeProtected.Global
  - name: EventNeverSubscribedTo.Global
  - name: ClassNeverInstantiated.Global

# 排除路径 - 不分析这些路径
# excludePaths:
#   - "**/bin/**"
#   - "**/obj/**"
#   - "**/publish/**"
  # 如果生成的代码仍然有问题，可以排除它们
  # - "**/GeneratedFiles/**"
  # - "**/*.g.cs"
  # - "**/*.Generated.cs"

# 包含路径 - 确保分析这些路径
# includePaths:
#   - "."
#   - "./obj/GeneratedFiles/**/*.cs"